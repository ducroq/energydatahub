2025-10-26 06:11:41,547 DEBUG Using selector: EpollSelector
2025-10-26 06:11:41,548 INFO Output directory ensured: /home/runner/work/energydatahub/energydatahub/data
2025-10-26 06:11:42,747 INFO No secrets.ini found, using environment variables only
2025-10-26 06:11:42,748 DEBUG Overriding security_keys.encryption from environment variable ENCRYPTION_KEY
2025-10-26 06:11:42,748 DEBUG Overriding security_keys.hmac from environment variable HMAC_KEY
2025-10-26 06:11:42,748 DEBUG Overriding api_keys.entsoe from environment variable ENTSOE_API_KEY
2025-10-26 06:11:42,748 DEBUG Overriding api_keys.openweather from environment variable OPENWEATHER_API_KEY
2025-10-26 06:11:42,748 DEBUG Overriding api_keys.meteo from environment variable METEO_API_KEY
2025-10-26 06:11:42,748 DEBUG Overriding api_keys.google from environment variable GOOGLE_API_KEY
2025-10-26 06:11:42,748 INFO [3b93f65d] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,749 DEBUG [3b93f65d] Fetching raw data...
2025-10-26 06:11:42,749 DEBUG Attempt 1/3
2025-10-26 06:11:42,749 DEBUG Fetching ENTSO-E data for NL
2025-10-26 06:11:42,749 DEBUG Querying ENTSO-E API: 2025-10-26 06:11:42.748556+00:00 to 2025-10-27 06:11:42.748556+00:00 (UTC)
2025-10-26 06:11:42,795 DEBUG Performing request to https://web-api.tp.entsoe.eu/api with params {'documentType': 'A44', 'in_Domain': '10YNL----------L', 'out_Domain': '10YNL----------L', 'offset': 0, 'contract_MarketAgreement.type': 'A01', 'securityToken': 'e764dd40-0108-4de7-81e7-b32f7fa55d69', 'periodStart': '202510250600', 'periodEnd': '202510280600'}
2025-10-26 06:11:42,796 DEBUG Starting new HTTPS connection (1): web-api.tp.entsoe.eu:443
2025-10-26 06:11:42,797 INFO [81eb6b10] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,797 DEBUG [81eb6b10] Fetching raw data...
2025-10-26 06:11:42,797 DEBUG Attempt 1/3
2025-10-26 06:11:42,797 DEBUG Fetching EnergyZero data
2025-10-26 06:11:42,797 WARNING Attempt 1 failed: AttributeError: 'EnergyZero' object has no attribute 'energy_prices'
2025-10-26 06:11:42,797 INFO Retrying in 0.77 seconds...
2025-10-26 06:11:42,797 INFO [ccaf942b] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,797 DEBUG [ccaf942b] Fetching raw data...
2025-10-26 06:11:42,797 DEBUG Attempt 1/3
2025-10-26 06:11:42,797 DEBUG Fetching EPEX data from Awattar API
2025-10-26 06:11:42,798 INFO [d9c61e74] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,798 DEBUG Attempt 1/3
2025-10-26 06:11:42,798 DEBUG Fetching OpenWeather data for lat=51.966472, lon=5.94009
2025-10-26 06:11:42,800 INFO [4cf342cd] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,800 DEBUG [4cf342cd] Fetching raw data...
2025-10-26 06:11:42,800 DEBUG Attempt 1/10
2025-10-26 06:11:42,800 DEBUG Fetching MeteoServer weather for lat=51.966472, lon=5.94009
2025-10-26 06:11:42,801 INFO [22448286] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,801 DEBUG [22448286] Fetching raw data...
2025-10-26 06:11:42,801 DEBUG Attempt 1/10
2025-10-26 06:11:42,801 DEBUG Fetching MeteoServer sun forecast for lat=51.966472, lon=5.94009
2025-10-26 06:11:42,802 INFO [f1ce0ae2] Starting collection: 2025-10-26 07:11:42.748556+01:00 to 2025-10-27 07:11:42.748556+01:00
2025-10-26 06:11:42,802 DEBUG [f1ce0ae2] Fetching raw data...
2025-10-26 06:11:42,802 DEBUG Attempt 1/3
2025-10-26 06:11:42,802 DEBUG Fetching Elspot data for NL
2025-10-26 06:11:42,803 INFO [d5c74354] Starting collection: 2025-10-25 08:11:42.748556+02:00 to 2025-10-26 07:11:42.748556+01:00
2025-10-26 06:11:42,804 DEBUG [d5c74354] Fetching raw data...
2025-10-26 06:11:42,804 DEBUG Attempt 1/3
2025-10-26 06:11:42,804 DEBUG Fetching Luchtmeetnet data for lat=51.966472, lon=5.94009
2025-10-26 06:11:42,804 DEBUG Starting new HTTPS connection (1): dataportal-api.nordpoolgroup.com:443
2025-10-26 06:11:42,804 INFO Station cache miss or expired, fetching fresh data
2025-10-26 06:11:42,804 DEBUG Fetching station list
2025-10-26 06:11:42,916 DEBUG Parsed 8 data points from OpenWeather response
2025-10-26 06:11:42,917 INFO [d9c61e74] Collection complete: 8 data points in 0.12s (status: success)
2025-10-26 06:11:43,104 DEBUG https://dataportal-api.nordpoolgroup.com:443 "GET /api/DayAheadPriceIndices?currency=EUR&market=DayAhead&date=2025-10-27&resolutionInMinutes=60&indexNames=NL HTTP/1.1" 200 None
2025-10-26 06:11:43,106 WARNING Attempt 1 failed: ValueError: No data returned from Nord Pool API
2025-10-26 06:11:43,106 INFO Retrying in 0.85 seconds...
2025-10-26 06:11:43,206 DEBUG [ccaf942b] Parsing response...
2025-10-26 06:11:43,206 DEBUG Parsed 16 data points from Awattar response
2025-10-26 06:11:43,206 DEBUG [ccaf942b] Normalizing timestamps...
2025-10-26 06:11:43,206 DEBUG [ccaf942b] Validating data...
2025-10-26 06:11:43,206 INFO [ccaf942b] Collection complete: 16 data points in 0.41s (status: success)
2025-10-26 06:11:43,474 DEBUG https://web-api.tp.entsoe.eu:443 "GET /api?documentType=A44&in_Domain=10YNL----------L&out_Domain=10YNL----------L&offset=0&contract_MarketAgreement.type=A01&securityToken=e764dd40-0108-4de7-81e7-b32f7fa55d69&periodStart=202510250600&periodEnd=202510280600 HTTP/1.1" 200 None
2025-10-26 06:11:43,552 DEBUG [4cf342cd] Parsing response...
2025-10-26 06:11:43,553 DEBUG Parsed 24 data points from MeteoServer weather response
2025-10-26 06:11:43,553 DEBUG [4cf342cd] Normalizing timestamps...
2025-10-26 06:11:43,553 DEBUG [4cf342cd] Validating data...
2025-10-26 06:11:43,554 INFO [4cf342cd] Collection complete: 24 data points in 0.75s (status: success)
2025-10-26 06:11:43,573 DEBUG Attempt 2/3
2025-10-26 06:11:43,573 DEBUG Fetching EnergyZero data
2025-10-26 06:11:43,573 WARNING Attempt 2 failed: AttributeError: 'EnergyZero' object has no attribute 'energy_prices'
2025-10-26 06:11:43,574 INFO Retrying in 1.85 seconds...
2025-10-26 06:11:43,665 DEBUG Performing request to https://web-api.tp.entsoe.eu/api with params {'documentType': 'A44', 'in_Domain': '10YNL----------L', 'out_Domain': '10YNL----------L', 'offset': 100, 'contract_MarketAgreement.type': 'A01', 'securityToken': 'e764dd40-0108-4de7-81e7-b32f7fa55d69', 'periodStart': '202510250600', 'periodEnd': '202510280600'}
2025-10-26 06:11:43,932 DEBUG https://web-api.tp.entsoe.eu:443 "GET /api?documentType=A44&in_Domain=10YNL----------L&out_Domain=10YNL----------L&offset=100&contract_MarketAgreement.type=A01&securityToken=e764dd40-0108-4de7-81e7-b32f7fa55d69&periodStart=202510250600&periodEnd=202510280600 HTTP/1.1" 200 933
2025-10-26 06:11:43,938 DEBUG Encoding detection: utf_8 is most likely the one.
2025-10-26 06:11:43,938 DEBUG NoMatchingDataError: for offset 100
2025-10-26 06:11:43,940 DEBUG [3b93f65d] Parsing response...
2025-10-26 06:11:43,941 DEBUG Parsed 67 data points from ENTSO-E response
2025-10-26 06:11:43,941 DEBUG [3b93f65d] Normalizing timestamps...
2025-10-26 06:11:43,941 DEBUG [3b93f65d] Validating data...
2025-10-26 06:11:43,942 INFO [3b93f65d] Collection complete: 67 data points in 1.19s (status: success)
2025-10-26 06:11:43,957 DEBUG Attempt 2/3
2025-10-26 06:11:43,957 DEBUG Fetching Elspot data for NL
2025-10-26 06:11:43,958 DEBUG Starting new HTTPS connection (1): dataportal-api.nordpoolgroup.com:443
2025-10-26 06:11:44,035 DEBUG [22448286] Parsing response...
2025-10-26 06:11:44,036 DEBUG Parsed 24 data points from MeteoServer sun response
2025-10-26 06:11:44,036 DEBUG [22448286] Normalizing timestamps...
2025-10-26 06:11:44,036 DEBUG [22448286] Validating data...
2025-10-26 06:11:44,036 INFO [22448286] Collection complete: 24 data points in 1.24s (status: success)
2025-10-26 06:11:44,179 DEBUG https://dataportal-api.nordpoolgroup.com:443 "GET /api/DayAheadPriceIndices?currency=EUR&market=DayAhead&date=2025-10-27&resolutionInMinutes=60&indexNames=NL HTTP/1.1" 200 None
2025-10-26 06:11:44,181 WARNING Attempt 2 failed: ValueError: No data returned from Nord Pool API
2025-10-26 06:11:44,181 INFO Retrying in 1.58 seconds...
2025-10-26 06:11:45,423 DEBUG Attempt 3/3
2025-10-26 06:11:45,423 DEBUG Fetching EnergyZero data
2025-10-26 06:11:45,423 WARNING Attempt 3 failed: AttributeError: 'EnergyZero' object has no attribute 'energy_prices'
2025-10-26 06:11:45,423 ERROR All 3 attempts failed. Last error: AttributeError: 'EnergyZero' object has no attribute 'energy_prices'
2025-10-26 06:11:45,423 ERROR [81eb6b10] Collection failed after 2.63s: 'EnergyZero' object has no attribute 'energy_prices'
2025-10-26 06:11:45,762 DEBUG Attempt 3/3
2025-10-26 06:11:45,763 DEBUG Fetching Elspot data for NL
2025-10-26 06:11:45,763 DEBUG Starting new HTTPS connection (1): dataportal-api.nordpoolgroup.com:443
2025-10-26 06:11:45,942 DEBUG Found 101 stations, fetching details...
2025-10-26 06:11:45,984 DEBUG https://dataportal-api.nordpoolgroup.com:443 "GET /api/DayAheadPriceIndices?currency=EUR&market=DayAhead&date=2025-10-27&resolutionInMinutes=60&indexNames=NL HTTP/1.1" 200 None
2025-10-26 06:11:45,986 WARNING Attempt 3 failed: ValueError: No data returned from Nord Pool API
2025-10-26 06:11:45,986 ERROR All 3 attempts failed. Last error: ValueError: No data returned from Nord Pool API
2025-10-26 06:11:45,986 ERROR [f1ce0ae2] Collection failed after 3.18s: No data returned from Nord Pool API
2025-10-26 06:12:47,518 INFO Cached 101 stations
2025-10-26 06:12:47,519 INFO Using station NL54004 (Arnhem Velperbroek)
2025-10-26 06:12:47,519 DEBUG Fetching AQI for station NL54004
2025-10-26 06:12:49,036 DEBUG Fetching measurements for station NL54004
2025-10-26 06:12:50,772 DEBUG [d5c74354] Parsing response...
2025-10-26 06:12:50,775 DEBUG Parsed 23 data points from Luchtmeetnet response
2025-10-26 06:12:50,776 DEBUG [d5c74354] Normalizing timestamps...
2025-10-26 06:12:50,776 DEBUG [d5c74354] Validating data...
2025-10-26 06:12:50,776 INFO [d5c74354] Collection complete: 23 data points in 67.97s (status: success)
2025-10-26 06:12:50,776 INFO Timestamp validation passed - all timestamps correctly formatted
2025-10-26 06:12:50,783 INFO Timestamp validation passed - all timestamps correctly formatted
2025-10-26 06:12:50,784 INFO Timestamp validation passed - all timestamps correctly formatted
2025-10-26 06:12:50,785 INFO Timestamp validation passed - all timestamps correctly formatted
